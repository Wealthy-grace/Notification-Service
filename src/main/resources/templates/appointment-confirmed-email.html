<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Appointment Confirmed</title>
</head>
<body style="margin: 0; padding: 0; font-family: 'Segoe UI', Arial, sans-serif; background-color: #f5f5f5;">
<table width="100%" cellpadding="0" cellspacing="0" style="background-color: #f5f5f5; padding: 20px 0;">
    <tr>
        <td align="center">
            <table width="600" cellpadding="0" cellspacing="0" style="background-color: white; border-radius: 10px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">

                <!-- Header -->
                <tr>
                    <td style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 30px; text-align: center; color: white;">
                        <h1 style="margin: 0; font-size: 26px; font-weight: 600;">‚úÖ Appointment Confirmed!</h1>
                        <p style="margin: 10px 0 0 0; font-size: 14px; opacity: 0.9;">Your property viewing has been successfully confirmed</p>
                    </td>
                </tr>

                <!-- Content -->
                <tr>
                    <td style="padding: 30px;">

                        <!-- Success Icon -->
                        <div style="text-align: center; font-size: 48px; margin: 20px 0;">üéâ</div>

                        <!-- Greeting -->
                        <p style="font-size: 16px; color: #333; margin: 20px 0;">
                            Dear <strong th:text="${userName}">User</strong>,
                        </p>

                        <p style="font-size: 14px; color: #555; line-height: 1.6;">
                            Great news! Your appointment to view the property has been confirmed.
                        </p>

                        <!-- Appointment Details Card -->
                        <table width="100%" cellpadding="0" cellspacing="0" style="background-color: #f8f9fa; border-left: 4px solid #667eea; border-radius: 5px; margin: 20px 0;">
                            <tr>
                                <td style="padding: 20px;">
                                    <h3 style="margin: 0 0 15px 0; color: #667eea; font-size: 18px;">üìã Appointment Details</h3>

                                    <!-- Date & Time -->
                                    <table width="100%" cellpadding="8" cellspacing="0" style="border-bottom: 1px solid #e0e0e0;">
                                        <tr>
                                            <td style="font-weight: 600; color: #555; font-size: 14px; width: 140px;">üìÖ Date & Time:</td>
                                            <td style="color: #333; font-size: 14px;" th:text="${#temporals.format(appointmentDateTime, 'EEEE, MMMM d, yyyy \'at\' h:mm a')}">Thursday, January 15, 2025 at 2:00 PM</td>
                                        </tr>
                                    </table>

                                    <!-- Duration -->
                                    <table width="100%" cellpadding="8" cellspacing="0" style="border-bottom: 1px solid #e0e0e0;">
                                        <tr>
                                            <td style="font-weight: 600; color: #555; font-size: 14px; width: 140px;">‚è±Ô∏è Duration:</td>
                                            <td style="color: #333; font-size: 14px;"><span th:text="${durationMinutes}">60</span> minutes</td>
                                        </tr>
                                    </table>

                                    <!-- Property -->
                                    <table width="100%" cellpadding="8" cellspacing="0" style="border-bottom: 1px solid #e0e0e0;">
                                        <tr>
                                            <td style="font-weight: 600; color: #555; font-size: 14px; width: 140px;">üè† Property:</td>
                                            <td style="color: #333; font-size: 14px;" th:text="${propertyTitle}">Modern 2BR Apartment</td>
                                        </tr>
                                    </table>

                                    <!-- Address -->
                                    <table width="100%" cellpadding="8" cellspacing="0" style="border-bottom: 1px solid #e0e0e0;">
                                        <tr>
                                            <td style="font-weight: 600; color: #555; font-size: 14px; width: 140px;">üìç Address:</td>
                                            <td style="color: #333; font-size: 14px;" th:text="${propertyAddress}">123 Main Street, Amsterdam</td>
                                        </tr>
                                    </table>

                                    <!-- Rent -->
                                    <table width="100%" cellpadding="8" cellspacing="0" style="border-bottom: 1px solid #e0e0e0;" th:if="${propertyPrice}">
                                        <tr>
                                            <td style="font-weight: 600; color: #555; font-size: 14px; width: 140px;">üí∞ Rent:</td>
                                            <td style="color: #333; font-size: 14px;">‚Ç¨<span th:text="${propertyPrice}">1500</span>/month</td>
                                        </tr>
                                    </table>

                                    <!-- Property Manager -->
                                    <table width="100%" cellpadding="8" cellspacing="0">
                                        <tr>
                                            <td style="font-weight: 600; color: #555; font-size: 14px; width: 140px; vertical-align: top;">üë§ Property Manager:</td>
                                            <td style="color: #333; font-size: 14px;">
                                                <span th:text="${providerName}">John Doe</span><br/>
                                                <span style="font-size: 12px; color: #777;" th:text="${providerEmail}">john@example.com</span><br/>
                                                <span style="font-size: 12px; color: #777;" th:text="${providerPhone}" th:if="${providerPhone}">+31 6 1234 5678</span>
                                            </td>
                                        </tr>
                                    </table>

                                </td>
                            </tr>
                        </table>

                        <!-- Property Image -->
                        <div th:if="${propertyImageUrl}" style="margin: 20px 0;">
                            <img th:src="${propertyImageUrl}" alt="Property" style="width: 100%; max-height: 250px; object-fit: cover; border-radius: 8px; display: block;"/>
                        </div>

                        <!-- Buttons -->
                        <table width="100%" cellpadding="0" cellspacing="0" style="margin: 25px 0;">
                            <tr>
                                <td align="center">
                                    <a th:href="${propertyUrl}" style="display: inline-block; background-color: #667eea; color: white; padding: 12px 30px; text-decoration: none; border-radius: 5px; font-weight: 600; font-size: 14px; margin: 0 5px;">View Property Details</a>
                                    <a th:href="${appointmentUrl}" style="display: inline-block; background-color: #6c757d; color: white; padding: 12px 30px; text-decoration: none; border-radius: 5px; font-weight: 600; font-size: 14px; margin: 0 5px;">Manage Appointment</a>
                                </td>
                            </tr>
                        </table>

                        <!-- Important Reminders -->
                        <table width="100%" cellpadding="0" cellspacing="0" style="background-color: #fff3cd; border: 1px solid #ffc107; border-radius: 5px; margin: 25px 0;">
                            <tr>
                                <td style="padding: 15px;">
                                    <p style="margin: 0 0 10px 0; font-weight: 600; color: #856404; font-size: 14px;">‚ö†Ô∏è Important Reminders:</p>
                                    <ul style="margin: 0; padding-left: 20px; color: #856404; font-size: 13px; line-height: 1.8;">
                                        <li>Please arrive 5 minutes early</li>
                                        <li>Bring a valid ID</li>
                                        <li>If you need to reschedule, please do so at least 24 hours in advance</li>
                                        <li>Contact the property manager if you have any questions</li>
                                    </ul>
                                </td>
                            </tr>
                        </table>

                        <!-- Closing -->
                        <p style="font-size: 14px; color: #555; margin: 20px 0 5px 0;">We look forward to showing you this property!</p>

                        <p style="font-size: 14px; color: #555; margin: 15px 0 0 0;">
                            Best regards,<br/>
                            <strong>Student Housing Team</strong>
                        </p>

                    </td>
                </tr>

                <!-- Footer -->
                <tr>
                    <td style="background-color: #f8f9fa; padding: 20px; text-align: center;">
                        <p style="margin: 5px 0; font-size: 12px; color: #666;">This is an automated email from Student Housing Management System</p>
                        <p style="margin: 5px 0; font-size: 12px; color: #666;">If you didn't request this appointment, please contact us immediately.</p>
                        <p style="margin: 5px 0; font-size: 12px; color: #999;">¬© 2025 Student Housing. All rights reserved.</p>
                    </td>
                </tr>

            </table>
        </td>
    </tr>
</table>
</body>
</html>